@page
@model HttpWebshopCookie.Pages.Admin.Analytics.SalesModel
@{
    ViewData["Title"] = "Sales Metrics";
    string totalSales = Model.Data?.TotalSales.ToString("C2") ?? "N/A";
    int totalOrders = Model.Data?.TotalOrders ?? 0;
    string averageOrderValue = Model.Data?.AverageOrderValue.ToString("C2") ?? "N/A";
}

<h1>Sales Metrics</h1>

<div class="form-group">
    <label for="periodSelect">Select Period:</label>
    <select id="periodSelect" class="form-control" asp-for="Period">
        <option value="Day">Day</option>
        <option value="Month" selected="@(Model.Period == "Month")">Month</option>
        <option value="Year">Year</option>
    </select>
</div>

<div class="card-deck">
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Total Sales</h5>
            <p class="card-text">@totalSales</p>
        </div>
    </div>
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Total Orders</h5>
            <p class="card-text">@totalOrders</p>
        </div>
    </div>
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Average Order Value</h5>
            <p class="card-text">@averageOrderValue</p>
        </div>
    </div>
</div>

<div class="btn btn-outline-primary">
    <a asp-page="/Admin/Analytics/Index">Back to Analytics</a>
</div>

@section Scripts {
    <script>
        document.getElementById('periodSelect').addEventListener('change', function () {
            var selectedPeriod = this.value;
            window.location.href = '/Admin/Analytics/Sales?period=' + selectedPeriod;
        });
    </script>
}
